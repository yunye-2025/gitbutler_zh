<script lang="ts">
	import CodegenServiceMessage from '$components/codegen/CodegenServiceMessage.svelte';
	import type { ToolCall } from '$lib/codegen/messages';

	type Props = { toolCall: ToolCall };

	const { toolCall }: Props = $props();

	const wantsToDo = $derived.by(() => {
		switch (toolCall.name) {
			case 'Task':
				return 'å¯åŠ¨å­ä»£ç†';
			case 'Bash':
				return 'è¿è¡Œå‘½ä»¤';
			case 'Glob':
				return 'æŒ‰æ¨¡å¼åŒ¹é…ä¸€äº›æ–‡ä»¶';
			case 'Grep':
				return 'è¿›è¡Œå†…å®¹æœç´¢';
			case 'Read':
				return 'è¯»å–æ–‡ä»¶';
			case 'Edit':
				return 'ç¼–è¾‘æ–‡ä»¶';
			case 'MultiEdit':
				return 'ç¼–è¾‘æ–‡ä»¶';
			case 'Write':
				return 'åˆ›å»ºæ–‡ä»¶';
			case 'WebFetch':
				return 'æœç´¢äº’è”ç½‘';
			case 'WebSearch':
				return 'æœç´¢äº’è”ç½‘';
			default:
				return 'æ‰§è¡Œéœ€è¦ä½ æ‰¹å‡†çš„æ“ä½œ';
		}
	});

	const actionName = $derived.by(() => {
		switch (toolCall.name) {
			case 'Task':
				return 'å­ä»£ç†è¯·æ±‚';
			case 'Bash':
				return 'å‘½ä»¤';
			case 'Glob':
				return 'æ¨¡å¼åŒ¹é…';
			case 'Grep':
				return 'å†…å®¹æœç´¢';
			case 'Read':
				return 'è¯»å–è¯·æ±‚';
			case 'Edit':
				return 'ç¼–è¾‘è¯·æ±‚';
			case 'MultiEdit':
				return 'ç¼–è¾‘è¯·æ±‚';
			case 'Write':
				return 'åˆ›å»ºè¯·æ±‚';
			case 'WebFetch':
				return 'ç½‘ç»œæœç´¢';
			case 'WebSearch':
				return 'ç½‘ç»œæœç´¢';
			default:
				return 'æ“ä½œ';
		}
	});
</script>

<CodegenServiceMessage style="pop" face="waiting">
	<div class="flex flex-col gap-2">
		<p class="text-13 text-semibold text-body">Claude Code æƒ³è¦ {wantsToDo} ğŸ‘†</p>
		<p class="text-13 text-italic text-body opacity-60">
			è¯·æŸ¥çœ‹ä¸Šæ–¹çš„{actionName}ï¼Œç„¶åæ‰¹å‡†æˆ–æ‹’ç»ã€‚
		</p>
	</div>
</CodegenServiceMessage>
